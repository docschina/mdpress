(window.webpackJsonp=window.webpackJsonp||[]).push([[52],{559:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.className,n=void 0===t?"":t,r=e.slotKey;return a.default.createElement(a.default.Fragment,null,a.default.createElement(l.default,{slotKey:r,className:n,markDownString:'# 静态资源\n\n## 公共文件\n\n所有的静态资源，你都需要将它们放在 `.mdpress/public` 中，无论是直接被你的任何一个 markdown 文件或者主题组件引用的图片，还是 favicons 和 PWA 的图标。它们最终会被复制到生成的静态文件夹中。\n\n## 基础路径\n\n如果你的网站会被部署到一个**非根路径**，你将需要在 `.mdpress/config.js` 中设置 `base`，举例来说，如果你打算将你的网站部署到 `https://foo.github.io/bar/`，那么 `base` 的值就应该被设置为 `"/bar/"` (应当总是以斜杠开始，并以斜杠结束)。\n\n有了基础路径（Base URL），如果你希望引用一张放在 `.mdpress/public` 中的图片，你需要使用这样路径：`/bar/image.png`，然而，一旦某一天你决定去修改 `base`，这样的路径引用将会显得异常脆弱。为了解决这个问题，MdPress 提供了内置的一个 helper `$withBase`（它可以通过 useData 这个钩子获取），可以帮助你生成正确的路径：\n\n``` jsx\nimport useData from \'@app/hooks/data\';\n\nfunction Foo(){\n    const { $withBase } = useData();\n    return <img src={$withBase(\'/foo.png\')} alt="foo"/>;\n}\n```\n\n值得一提的是，你不仅可以在你的 React 组件中使用上述的语法，在 Markdown 文件中亦是如此。\n\n````\n```rc\nconst src = $withBase(\'/foo.png\');\nreturn <div><img src={src} alt="foo"/></div>\n```\n````\n\n> 但你并不需要这样引入图片，使用 `<img src="/foo.png" alt="foo"/>` 即可，我们会在渲染 markdown 时自动注入 base url 进去。\n\n最后补充一句，一个 `base` 路径一旦被设置，它将会自动地作为前缀插入到 `.mdpress/config.js` 中所有以 `/` 开始的资源路径中。'}))};var a=r(n(0)),l=r(n(608));function r(e){return e&&e.__esModule?e:{default:e}}},604:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return r.default.createElement("svg",{className:"icon outbound",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",x:"0px",y:"0px",viewBox:"0 0 100 100",width:"15",height:"15"},r.default.createElement("path",{fill:"currentColor",d:"M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"}),r.default.createElement("polygon",{fill:"currentColor",points:"45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"}))};var a,l=n(0),r=(a=l)&&a.__esModule?a:{default:a};n(606)},605:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=(0,l.default)().$page,n=e.pageKey,o=void 0===n?t.key:n,s=e.className,c=e.slotKey,f=void 0===c?"default":c;(0,u.setGlobalInfo)("pageKey",o);var d=r.default[o]||function(){return null};return a.default.createElement(d,{className:s,slotKey:f})};var a=o(n(0)),l=o(n(99)),r=o(n(164)),u=n(36);function o(e){return e&&e.__esModule?e:{default:e}}n(607)},606:function(e,t,n){},607:function(e,t,n){},608:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=g(n(100)),l=g(n(29)),r=g(n(166)),u=n(0),o=g(u),s=g(n(4)),c=n(101),f=g(n(99)),d=g(n(102)),i=n(165),m=g(n(609)),p=g(n(605)),v=g(n(604)),h=g(n(37));function g(e){return e&&e.__esModule?e:{default:e}}var b="server"===(0,n(36).getEnv)();function w(e){var t=e.markDownString,n=e.className,s=e.slotKey,g=(0,u.useRef)(e.md||h.default.createMD()).current,w=(0,f.default)(),y=w.$site,E=w.$page,M=(0,u.useState)(null),N=(0,l.default)(M,2),S=N[0],k=N[1],C=(0,u.useRef)(null);return(0,u.useEffect)((function(){k(document.getElementById(s))}),[]),(0,u.useEffect)((function(){"default"!==s&&C&&S&&((0,a.default)(S.childNodes).forEach((function(e,t){var n=C.current.childNodes[t];n?C.current.replaceChild(e,n):C.current.appendChild(e)})),S.parentNode.removeChild(S))}),[S]),"default"!==s?o.default.createElement("div",{ref:C}):((0,i.useComponentWillMount)((function(){!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};e.use((function(e){return(0,c.SupportReactComponent)(e,{allowErrorLog:!0,sandbox:(0,r.default)({},t,n),babelInit:function(e){e.availablePlugins.filterXSS&&(e.availablePlugins.filterXSS=function(){return{}})}})}))}(g,d.default,{$site:y,$page:E,JSON:JSON,ClientOnly:m.default,console:console,Content:p.default,OutboundLink:v.default,$withBase:function(e){var t=y.base;return"/"===e.charAt(0)?t+e.slice(1):e}})})),b?o.default.createElement(_,{html:g.render(t),slotKey:s,className:n}):(0,u.useMemo)((function(){var e=g.render(t);return o.default.createElement(_,{html:e,slotKey:s,className:n})}),[t,s,n]))}function _(e){var t=e.html,n=e.slotKey,a=e.className;return o.default.createElement("div",{className:"content content__"+n+" "+a,dangerouslySetInnerHTML:{__html:t}})}w.propTypes={markDownString:s.default.string,className:s.default.string,scrollAnchor:s.default.bool,mdInit:s.default.func,md:s.default.object},w.defaultProps={markDownString:"",className:"",scrollAnchor:!0,mdInit:function(){}},t.default=w},609:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=u(n(29));t.default=function(e){var t=(0,l.useState)(!1),n=(0,a.default)(t,2),u=n[0],s=n[1],c=e.children,f=e.onSSR,d=void 0===f?r.default.createElement(o,null):f;return(0,l.useEffect)((function(){s(!0)}),[]),u?c:d};var l=n(0),r=u(l);function u(e){return e&&e.__esModule?e:{default:e}}var o=function(){return r.default.createElement("span",null)}}}]);