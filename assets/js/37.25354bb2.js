(window.webpackJsonp=window.webpackJsonp||[]).push([[37],{593:function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(n){var e=n.className,t=void 0===e?"":e,i=n.slotKey;return a.default.createElement(a.default.Fragment,null,a.default.createElement(o.default,{slotKey:i,className:t,markDownString:"# Option API\n\n## name\n\n- Type: `string`\n- Default: undefined\n\nThe name of the plugin.\n\nInternally, MdPress will use the plugin’s package name as the plugin name. When your plugin is a local plugin (that is using a pure plugin function directly), please be sure to configure this option, that is good for debug tracking.\n\n```js\n// .mdpress/config.js\nmodule.exports = {\n  plugins: [\n    [\n      (pluginOptions, context) => ({\n        name: 'my-xxx-plugin'\n        // ... the rest of options\n      })\n    ]\n  ]\n}\n```\n\n## plugins\n\n- Type: `array`\n- Default: `undefined`\n\nA plugin can contain several plugins like a preset.\n\n```js\n// A plugin\nmodule.exports = {\n  plugins: [\n    'tag',\n    'category'\n  ]\n}\n```\n\n## chainWebpack\n\n- Type: `Function`\n- Default: undefined\n\nEdit the internal webpack config with [webpack-chain](https://github.com/mozilla-neutrino/webpack-chain).\n\n```js\nmodule.exports = {\n  chainWebpack (config, isServer) {\n    // config is an instance of ChainableConfig\n  }\n}\n```\n\n::: tip\nSince MdPress is a SSR based application, there needs to be two webpack configurations, `isServer` is used to determine whether the current webpack config is applied to the server or client.\n\n## define\n\n- Type: `Object|Function`\n- Default: undefined\n\nSince using [DefinePlugin](https://webpack.js.org/plugins/define-plugin/) via [chainWebpack](#chainwebpack) would be a little complicated:\n\n```js\nmodule.exports = {\n  chainWebpack (config) {\n    config.plugin('injections').tap(([options]) => [\n      Object.assign(options, {\n        SW_BASE_URL: JSON.stringify('/')\n      })\n    ])\n  }\n}\n```\n\nMdPress opened up a more concise `define` option, note that the values has been automatically processed by `JSON.stringify`.\n\n- Object Usage:\n\n```js\nmodule.exports = {\n  define: {\n    SW_BASE_URL: '/',\n  }\n}\n```\n\n- Function Usage:\n\n```js\nmodule.exports = (options, context) => ({\n  define () {\n    return {\n      SW_BASE_URL: context.base || '/',\n      SW_ENABLED: !!options.enabled,\n    }\n  }\n})\n```\n\n## alias\n\n- Type: `Object|Function`\n- Default: undefined\n\nWe can set aliases via [chainWebpack](#chainwebpack):\n\n```js\nmodule.exports = (options, context) => ({\n  chainWebpack (config) {\n    config.resolve.alias.set('@pwd', process.cwd())\n  }\n})\n```\n\nBut `alias` option makes this process more like configuration:\n\n```js\nmodule.exports = (options, context) => ({\n  alias: {\n    '@pwd': process.cwd()\n  }\n})\n```\n\n## beforeDevServer\n\n- Type: `Function`\n- Default: undefined\n\nEquivalent to [before](https://webpack.js.org/configuration/dev-server/#devserver-before) in [webpack-dev-server](https://github.com/webpack/webpack-dev-server). You can use it to define custom handlers before all middleware is executed:\n\n```js\nmodule.exports = {\n  // ...\n  beforeDevServer(app, server) {\n    app.get('/path/to/your/custom', function(req, res) {\n      res.json({ custom: 'response' })\n    })\n  }\n}\n```\n\n## afterDevServer\n\n- Type: `Function`\n- Default: undefined\n\nEquivalent to [after](https://webpack.js.org/configuration/dev-server/#devserver-after) in [webpack-dev-server](https://github.com/webpack/webpack-dev-server). You can use it to execute custom middleware after all other middleware:\n\n```js\nmodule.exports = {\n  // ...\n  afterDevServer(app, server) {\n    // hacking now ...\n  }\n}\n```\n\n## enhanceAppFiles\n\n- Type: `String | Array | AsyncFunction`\n- Default: `undefined`\n\nThis option accepts absolute file path(s) pointing to the enhancement file(s), or a function that returns the path(s), which allows you to do some [App Level Enhancements](../guide/basic-config.md#app-level-enhancements).\n\n``` js\nimport { resolve } from 'path'\n\nmodule.exports = {\n  enhanceAppFiles: resolve(__dirname, 'client.js')\n}\n```\n\nThis option also supports dynamic code which allows you to do more, with the ability to touch the compilation context:\n\n```js\nmodule.exports = (option, context) => {\n  return {\n    enhanceAppFiles() {\n      return {\n         name: 'dynamic-code',\n         content: `export default ({ }) => { }`\n       }\n    }\n  }\n}\n```\n\n## clientDynamicModules\n\n- Type: `Function`\n- Default: `undefined`\n\nSometimes, you may want to generate some client modules at compile time.\n\n```js\nmodule.exports = (options, context) => ({\n  clientDynamicModules() {\n    return {\n      name: 'constants.js',\n      content: `export const SOURCE_DIR = '${context.sourceDir}'`\n    }\n  }\n})\n```\n\nThen you can use this module at client-side code by:\n\n``` js\nimport { SOURCE_DIR } from '@dynamic/constants'\n```\n\n## extendPageData\n\n- Type: `Function|AsyncFunction`\n- Default: `undefined`\n\nA function used to extend or edit the [$page](../guide/global-computed.md#page) object. This function will be invoking once for each page at compile time.\n\n```js\nmodule.exports = {\n  extendPageData ($page) {\n    const {\n      _filePath,           // file's absolute path\n      _computed,           // access the client global computed mixins at build time, e.g _computed.$localePath.\n      _content,            // file's raw content string\n      _strippedContent,    // file's content string without frontmatter\n      key,                 // page's unique hash key\n      frontmatter,         // page's frontmatter object\n      regularPath,         // current page's default link (follow the file hierarchy)\n      path,                // current page's real link (use regularPath when permalink does not exist)\n    } = $page\n\n    // 1. Add extra fields.\n    $page.xxx = 'xxx'\n\n    // 2. Change frontmatter.\n    frontmatter.sidebar = 'auto'\n  }\n}\n```\n\nNote that `extendPageData` can also be defined as an asynchronous function.\n\n```js\nmodule.exports = {\n  async extendPageData ($page) {\n    $page.xxx = await getAsyncData()\n  }\n}\n```\n\n::: warning Note\nThese fields starting with an `_` means you can only access them during build time.\n:::\n\nFor example:\n\n``` js\nmodule.exports = {\n  extendPageData ($page) {\n    $page.size = ($page._content.length / 1024).toFixed(2) + 'kb'\n  }\n}\n```\n\nThen you can use this value via `$page.size` in sandbox React Component.\n\n## additionalPages\n\n- Type: `Array|AsyncFunction`\n- Default: `undefined`\n\nAdd a page pointing to a Markdown file:\n\n```js\nconst path = require('path')\n\nmodule.exports = {\n  additionalPages: [\n    {\n     path: '/readme/',\n     filePath: path.resolve(__dirname, '../../README.md')\n    }\n  ]\n}\n```\n\nAdd a page with explicit content:\n\n```js\nmodule.exports = {\n  async additionalPages () {\n    // Note that MdPress doesn't have request library built-in\n    // you need to install it yourself.\n    const rp = require('request-promise')\n    const content = await rp('https://raw.githubusercontent.com/docschina/mdpress/master/CHANGELOG.md')\n    return [\n      {\n        path: '/changelog/',\n        content\n      }\n    ]\n  }\n}\n```\n\nAdd a pure route:\n\n```js\nmodule.exports = {\n  additionalPages: [\n    {\n       path: '/alpha/',\n       frontmatter: {\n          layout: 'MyLayout'\n       }\n    }\n  ]\n}\n```\n\n## globalUIComponents\n\n- Type: `Array|String`\n- Default: `undefined`\n\nYou might want to inject some global UI fixed somewhere on the page, for example `BackToTop`, `Popup`. In MdPress, **a global UI is a React component**, you can directly define the component’s name(s) in this option, for example:\n\n``` js\nmodule.exports = {\n  globalUIComponents: [\n    'Component1',\n    'Component2'\n  ]\n}\n```\n\nThen, MdPress will automatically inject these components behind the layout component:\n\n```html\n<div id=\"app\">\n  <div class=\"theme-container\"> ... </div> \x3c!-- Layout Component --\x3e\n  <div class=\"global-ui\">\n    <Component1/>\n    <Component2/>\n  </div>\n</div>\n```\n\n## extendCli\n\n- Type: `function`\n- Default: `undefined`\n\nRegister a extra command to enhance the CLI of MdPress. The function will be called with a [CAC](https://github.com/cacjs/cac)'s instance as the first argument.\n\n```js\nmodule.exports = {\n  extendCli (cli) {\n    cli\n      .command('info [targetDir]', '')\n      .option('--debug', 'display info in debug mode')\n      .action((dir = '.') => {\n        console.log('Display info of your website')\n      })\n  }\n}\n```\n\nNow you can use `mdpress info [targetDir]` a in your project!\n\n::: tip\nNote that a custom command registered by a plugin requires MdPress to locate your site configuration like `mdpress dev` and `mdpress build`, so when developing a command, be sure to lead the user to pass `targetDir` as an CLI argument.\n:::\n"}))};var a=i(t(0)),o=i(t(608));function i(n){return n&&n.__esModule?n:{default:n}}},604:function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){return i.default.createElement("svg",{className:"icon outbound",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",x:"0px",y:"0px",viewBox:"0 0 100 100",width:"15",height:"15"},i.default.createElement("path",{fill:"currentColor",d:"M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"}),i.default.createElement("polygon",{fill:"currentColor",points:"45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"}))};var a,o=t(0),i=(a=o)&&a.__esModule?a:{default:a};t(606)},605:function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(n){var e=(0,o.default)().$page,t=n.pageKey,r=void 0===t?e.key:t,l=n.className,u=n.slotKey,c=void 0===u?"default":u;(0,s.setGlobalInfo)("pageKey",r);var d=i.default[r]||function(){return null};return a.default.createElement(d,{className:l,slotKey:c})};var a=r(t(0)),o=r(t(99)),i=r(t(164)),s=t(36);function r(n){return n&&n.__esModule?n:{default:n}}t(607)},606:function(n,e,t){},607:function(n,e,t){},608:function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=v(t(100)),o=v(t(29)),i=v(t(166)),s=t(0),r=v(s),l=v(t(4)),u=t(101),c=v(t(99)),d=v(t(102)),p=t(165),f=v(t(609)),m=v(t(605)),h=v(t(604)),g=v(t(37));function v(n){return n&&n.__esModule?n:{default:n}}var b="server"===(0,t(36).getEnv)();function y(n){var e=n.markDownString,t=n.className,l=n.slotKey,v=(0,s.useRef)(n.md||g.default.createMD()).current,y=(0,c.default)(),x=y.$site,j=y.$page,k=(0,s.useState)(null),_=(0,o.default)(k,2),D=_[0],S=_[1],E=(0,s.useRef)(null);return(0,s.useEffect)((function(){S(document.getElementById(l))}),[]),(0,s.useEffect)((function(){"default"!==l&&E&&D&&((0,a.default)(D.childNodes).forEach((function(n,e){var t=E.current.childNodes[e];t?E.current.replaceChild(n,t):E.current.appendChild(n)})),D.parentNode.removeChild(D))}),[D]),"default"!==l?r.default.createElement("div",{ref:E}):((0,p.useComponentWillMount)((function(){!function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};n.use((function(n){return(0,u.SupportReactComponent)(n,{allowErrorLog:!0,sandbox:(0,i.default)({},e,t),babelInit:function(n){n.availablePlugins.filterXSS&&(n.availablePlugins.filterXSS=function(){return{}})}})}))}(v,d.default,{$site:x,$page:j,JSON:JSON,ClientOnly:f.default,console:console,Content:m.default,OutboundLink:h.default,$withBase:function(n){var e=x.base;return"/"===n.charAt(0)?e+n.slice(1):n}})})),b?r.default.createElement(w,{html:v.render(e),slotKey:l,className:t}):(0,s.useMemo)((function(){var n=v.render(e);return r.default.createElement(w,{html:n,slotKey:l,className:t})}),[e,l,t]))}function w(n){var e=n.html,t=n.slotKey,a=n.className;return r.default.createElement("div",{className:"content content__"+t+" "+a,dangerouslySetInnerHTML:{__html:e}})}y.propTypes={markDownString:l.default.string,className:l.default.string,scrollAnchor:l.default.bool,mdInit:l.default.func,md:l.default.object},y.defaultProps={markDownString:"",className:"",scrollAnchor:!0,mdInit:function(){}},e.default=y},609:function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s(t(29));e.default=function(n){var e=(0,o.useState)(!1),t=(0,a.default)(e,2),s=t[0],l=t[1],u=n.children,c=n.onSSR,d=void 0===c?i.default.createElement(r,null):c;return(0,o.useEffect)((function(){l(!0)}),[]),s?u:d};var o=t(0),i=s(o);function s(n){return n&&n.__esModule?n:{default:n}}var r=function(){return i.default.createElement("span",null)}}}]);